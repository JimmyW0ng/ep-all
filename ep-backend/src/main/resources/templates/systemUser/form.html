<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/web/thymeleaf/layout"
>
<head th:replace="~{fragments/header :: common_header}">

</head>
<header>
    <th:block layout:fragment="links">


    </th:block>
</header>
<body>
<div>
    <div class="col-sm-12">
        <div class="ibox float-e-margins">
            <div class="ibox-title">
                <h5>简单示例</h5>
                <div class="ibox-tools">
                    <a class="collapse-link">
                        <i class="fa fa-chevron-up"></i>
                    </a>
                    <a class="dropdown-toggle" data-toggle="dropdown" href="form_basic.html#">
                        <i class="fa fa-wrench"></i>
                    </a>
                    <ul class="dropdown-menu dropdown-user">
                        <li><a href="form_basic.html#">选项1</a>
                        </li>
                        <li><a href="form_basic.html#">选项2</a>
                        </li>
                    </ul>
                    <a class="close-link">
                        <i class="fa fa-times"></i>
                    </a>
                </div>
            </div>
            <div class="ibox-content">
                <form class="form-horizontal m-t" id="commentForm">
                    <div class="form-group">
                        <label class="col-sm-3 control-label">姓名：</label>
                        <div class="col-sm-8">
                            <input id="userName" name="userName" type="text" class="form-control" required="true"
                                   aria-required="true">
                        </div>
                    </div>
                    <!--<div class="form-group">-->
                    <!--<label class="col-sm-3 control-label">E-mail：</label>-->
                    <!--<div class="col-sm-8">-->
                    <!--<input id="cemail" type="email" class="form-control" name="email" required="" aria-required="true">-->
                    <!--</div>-->
                    <!--</div>-->

                    <!--<div class="form-group">-->
                    <!--<label class="col-sm-3 control-label">说明：</label>-->
                    <!--<div class="col-sm-8">-->
                    <!--<textarea id="ccomment" name="comment" class="form-control" required="" aria-required="true"></textarea>-->
                    <!--</div>-->
                    <!--</div>-->
                    <div class="form-group">
                        <div class="col-sm-4 col-sm-offset-3">
                            <button class="btn btn-primary" type="button" onclick="createUserDo()">提交</button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
<script th:replace="~{fragments/scripts}"></script>
<script th:src="@{/js/plugins/validate/jquery.validate.min.js}"></script>

<script th:src="@{/js/plugins/validate/messages_zh.min.js}"></script>
<script th:src="@{/js/demo/form-validate-demo.min.js}"></script>
<script th:inline="javascript">
    function createUserDo() {
        if (!$("#commentForm").valid()) {
            console.log("valid fail")
            return;
        }
        alert(0)
        $.ajax({
            type: 'POST',
            url: '/auth/user/create',
            data: $("#commentForm").serialize(),
            success: function (data) {

            }

        })
    }
    $(document).ready(function () {
//        $("#commentForm").validate({
//            rules: {
//                userName: {
//                    require: true,
//                },
//            },
//            messages: {
//                userName : {
//                    required : "请输入用户名",
//                },
//            }
//        });
    });

</script>
</body>
</html>